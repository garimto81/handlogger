# PRD: Document Synchronization v2.0.0
**PRD 번호**: 0001
**작성일**: 2025-10-14
**버전**: 1.0.0
**작성자**: AI Development Team
**상태**: Approved

---

## 1. 개요

### 1.1 요약
HandLogger PRD.md 문서를 실제 구현된 code.gs v2.9.0 및 index.html v2.9.0에 맞춰 동기화

### 1.2 배경
- **문제**: PRD.md가 v2.7.2 기준으로 작성되어 v2.8.0/v2.9.0 변경사항 미반영
- **영향**: 신규 개발자 온보딩 시 혼란, 데이터 구조 설계 오류 가능성
- **긴급도**: High (문서-코드 불일치는 기술 부채)

---

## 2. 목표

### 2.1 비즈니스 목표
- 문서-코드 100% 일치 달성
- 신규 개발자 온보딩 시간 50% 단축
- 데이터 구조 설계 오류 0건

### 2.2 기술 목표
- PRD.md 버전 v1.0.0 → v2.0.0
- 5개 핵심 섹션 업데이트
- DB_MIGRATION.md와 100% 일치 검증

---

## 3. 사용자 스토리

### Story 1: 신규 개발자
```
As a 신규 개발자
I want to PRD.md를 읽고 최신 아키텍처를 이해하기
So that 코드 수정 시 구조 혼란 없이 진행
```

### Story 2: 데이터베이스 관리자
```
As a DBA
I want to PRD.md에서 Type 시트 스키마를 확인하기
So that 11컬럼 구조로 정확히 생성
```

### Story 3: 프로젝트 매니저
```
As a PM
I want to PRD.md에서 v2.8.0/v2.9.0 변경사항을 확인하기
So that 릴리스 노트 작성 가능
```

---

## 4. 기능 요구사항

### 4.1 필수 수정 사항

#### FR-1: 헤더 업데이트
**위치**: PRD.md line 1-10
**변경사항**:
- 버전: 1.0.0 → 2.0.0
- 최종 업데이트: 2025-10-12 → 2025-10-14
- 제목: v2.7.x → v2.9.0
- 주요 변경사항 추가 (v2.8.0/v2.9.0)

**수락 기준**:
- [ ] 버전 번호 2.0.0
- [ ] 날짜 2025-10-14
- [ ] 변경사항 4개 항목 이상

---

#### FR-2: 시스템 구성도 수정
**위치**: PRD.md section 5.1 (line 599-648)
**변경사항**:
```
Before: 2개 스프레드시트 (APP + ROSTER)
After: 1개 스프레드시트 (APP 통합)
```

**수락 기준**:
- [ ] ROSTER_SPREADSHEET_ID 다이어그램에서 삭제
- [ ] Type 시트가 APP_SPREADSHEET 내부로 표시
- [ ] v2.8.0 주요 변경 라벨 추가

---

#### FR-3: Type 시트 스키마 확장
**위치**: PRD.md section 6.5 (line 838-854)
**변경사항**:
```
Before: 6컬럼 테이블
After: 11컬럼 테이블 (필수 6 + 선택 5)
```

**추가 컬럼**:
- PlayerId (선택)
- TableId (선택)
- SeatId (선택)
- PokerRoom (선택)
- TableName (선택)

**수락 기준**:
- [ ] 11컬럼 전체 테이블 작성
- [ ] 하위 호환성 명시 (6컬럼도 작동)
- [ ] 샘플 데이터 업데이트

---

#### FR-4: readRoster_() 비즈니스 로직
**위치**: PRD.md section 4.1.1 (line 154-160)
**변경사항**:
- v2.8.0: `appSS_()` 통합 설명
- `optIdx` 선택적 컬럼 파싱 로직 추가

**수락 기준**:
- [ ] rosterSS_() → appSS_() 변경 명시
- [ ] optIdx 코드 블록 추가
- [ ] 하위 호환 설명

---

#### FR-5: 로드맵 업데이트
**위치**: PRD.md section 10.2 (line 1057-1101)
**변경사항**:
- v2.8.0 완료 표시 ✅
- v2.9.0 완료 표시 ✅
- v2.10.0 → v3.0.0 변경

**수락 기준**:
- [ ] v2.8.0 섹션에 ✅ 체크
- [ ] v2.9.0 섹션 추가 + ✅ 체크
- [ ] v3.0.0 사이드팟 계산 일정 유지

---

### 4.2 선택 사항

#### FR-6: README.md 버전 동기화
**위치**: README.md
**변경사항**:
- 버전 v2.7.2 → v2.9.0
- v2.8.0/v2.9.0 주요 변경사항 추가

---

## 5. 비기능 요구사항

### 5.1 성능
- 문서 업데이트 시간: < 30분
- Git commit 시간: < 5분

### 5.2 품질
- DB_MIGRATION.md와 100% 일치
- 마크다운 문법 오류 0건
- 링크 깨짐 0건

### 5.3 유지보수성
- 변경 이력 섹션 업데이트
- Git 커밋 메시지 명확성

---

## 6. 제외 사항

### Out of Scope
- ❌ CHANGELOG.md 자동 생성 스크립트
- ❌ 다국어 문서 번역
- ❌ 문서 동기화 자동화 시스템
- ❌ 전체 문서 검토 (1,327줄)
- ❌ code.gs, index.html 코드 수정

---

## 7. 데이터 요구사항

### 7.1 입력
- code.gs v2.9.0 (최신 상태)
- index.html v2.9.0 (최신 상태)
- DB_MIGRATION.md v3.0.0 (참조 문서)
- PRD.md v1.0.0 (현재 버전)

### 7.2 출력
- PRD.md v2.0.0 (업데이트 버전)
- README.md v2.9.0 (동기화 버전)

---

## 8. 디자인 요구사항

### 8.1 문서 구조
- 기존 1,327줄 구조 유지
- 5개 섹션만 수정
- 마크다운 포맷 일관성 유지

### 8.2 스타일 가이드
- 표: GitHub Flavored Markdown
- 코드 블록: 언어 태그 명시 (```javascript)
- 체크박스: `- [ ]` 또는 `✅`

---

## 9. 기술 사양

### 9.1 도구
- 편집기: VSCode / Claude Code
- 버전 관리: Git
- 검증: 수동 확인 + DB_MIGRATION.md 교차 체크

### 9.2 파일 경로
```
handlogger/
├── docs/
│   ├── PRD.md (수정)
│   ├── PRD_SUMMARY.md (이미 최신)
│   └── DB_MIGRATION.md (참조)
├── README.md (수정)
└── tasks/prds/
    └── 0001-prd-document-sync.md (이 문서)
```

---

## 10. 성공 지표

### 10.1 정량 지표
| 지표 | 목표 | 측정 방법 |
|------|------|-----------|
| 문서-코드 일치율 | 100% | 5개 섹션 수동 검증 |
| 마크다운 오류 | 0건 | VSCode Lint |
| 링크 깨짐 | 0건 | 수동 클릭 |
| 작업 시간 | < 2시간 | 타이머 |

### 10.2 정성 지표
- [ ] 신규 개발자가 PRD 읽고 구조 이해 가능
- [ ] DBA가 Type 시트 11컬럼 정확히 생성 가능
- [ ] PM이 v2.8.0/v2.9.0 변경사항 파악 가능

---

## 11. 리스크 분석

### 11.1 리스크 #1: 다른 섹션 실수로 수정
**영향도**: Low
**완화**: Git diff로 5개 섹션만 변경 확인

### 11.2 리스크 #2: DB_MIGRATION.md와 불일치
**영향도**: Medium
**완화**: Phase 2 검증 단계에서 교차 체크

### 11.3 리스크 #3: 링크 깨짐
**영향도**: Low
**완화**: 상대 경로 유지, 수동 클릭 테스트

---

## 12. 타임라인

### Phase 0: PRD 작성 (완료)
- ✅ 이 문서 작성 완료

### Phase 0.5: Task List 생성 (5분)
- 자동 생성: `tasks/0001-tasks-document-sync.md`

### Phase 1: 코드 수정 (60분)
- PRD.md 5개 섹션 수정: 50분
- README.md 업데이트: 10분

### Phase 2: 테스트 (15분)
- DB_MIGRATION.md 교차 확인: 10분
- 마크다운 lint: 5분

### Phase 3: 버전 업데이트 (5분)
- PRD.md 헤더 버전 확인
- README.md 버전 확인

### Phase 4: Git 커밋 (10분)
- git add + commit + push

### Phase 5: GitHub 검증 (5분)
- WebFetch로 원격 파일 확인

### Phase 6: 완료 (5분)
- 최종 문서 재확인

**총 예상 시간**: 105분 (1시간 45분)

---

## 13. 승인

| 역할 | 이름 | 승인 | 날짜 |
|------|------|------|------|
| 작성자 | AI Dev Team | ✅ | 2025-10-14 |
| 검토자 | User | ⏳ 대기 | - |
| 승인자 | User | ⏳ 대기 | - |

---

## 14. 부록

### 14.1 참조 문서
- [PRD.md](../../docs/PRD.md) - 업데이트 대상
- [DB_MIGRATION.md](../../docs/DB_MIGRATION.md) - 참조 기준
- [PRD_SUMMARY.md](../../docs/PRD_SUMMARY.md) - 최신 요약
- [CLAUDE.md](../../CLAUDE.md) - 개발 가이드라인

### 14.2 변경 이력
| 버전 | 날짜 | 변경사항 |
|------|------|----------|
| 1.0.0 | 2025-10-14 | 초기 PRD 작성 |

---

**문서 끝**

*Phase 0 완료 → Phase 0.5 Task List 생성 진행*