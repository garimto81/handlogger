# PLAN - Tracker (Key Player & Table Manager)

> **독립 모듈** | HandLogger 확장 기능 | 버전: v1.0

## 🎯 목표

**포커 대회 현장 데이터 매니저가 대회장을 돌아다니며 키 플레이어 18명의 위치(테이블/좌석)와 칩을 실시간 추적하고, 각 테이블 전체 플레이어(9명)를 관리(추가/삭제/칩 수정)할 수 있는 모바일 웹 인터페이스**

---

## 👥 페르소나

### 주요 사용자: Henry.Lee (현장 데이터 매니저)

- **직업**: 포커 대회 생중계 프로덕션 데이터 매니저 (경력 5년)
- **역할**: 대회장에서 키 플레이어 18명 추적 + 테이블 플레이어 관리
- **현재 문제**:
  - **종이 메모 비효율**: 테이블 이동 발생 시 종이에 "김프로 T15→T28" 메모 → 휴식 시간에 Type 시트 수작업 입력 (30분 소요)
  - **칩 업데이트 지연**: 키 플레이어 칩 확인해도 즉시 기록 못함 → 나중에 기억 안남 → 데이터 누락
  - **테이블 플레이어 변화 추적 불가**: T15에 신규 플레이어 합류했는데 Type 시트에 없음 → HandLogger Record 모드에서 플레이어 목록 안 뜸 → 핸드 기록 실패
- **목표**:
  - 키 플레이어 18명 실시간 위치/칩 추적 (스마트폰으로 즉시 확인)
  - 테이블별 플레이어 9명 관리 (추가/삭제/칩 수정)
  - Type 시트 자동 동기화 (수작업 입력 0분)
- **하루 일과** (토너먼트 Day 2, 12:00~22:00):
  - **11:45** - 대회장 도착, 스마트폰으로 Tracker 모드 접속
  - **11:50** - Type 시트에서 키 플레이어 18명 확인 (칩 리더 10명 + 유명 프로 8명)
  - **12:00** - 대회 시작, T15 테이블 모니터링 시작
  - **12:15** - T15에 신규 플레이어 "Alice" 합류 → Tracker [T15 관리] → [+] → 이름/국적/칩 입력 (15초)
  - **12:20** - 김프로 핸드 발생 → HandLogger Record 모드 → "Alice" 자동 로드 ✅
  - **14:30** - 휴식 시간, 대회 사무국 "박프로 T15→T28 이동" 공지
  - **14:31** - Tracker에서 박프로 카드 클릭 → "520k" 클릭 → "750k" 수정 (칩 증가 반영, 10초)
  - **14:32** - (추후) 박프로 테이블 이동 기능 추가 예정 (현재는 Type 시트에서 수동 수정)
  - **18:00** - T42 "David" 탈락 → Tracker [T42 관리] → David 옆 🗑️ 클릭 → 삭제 (5초)
  - **22:00** - 대회 종료, Type 시트 최신 상태 유지 ✅ (수작업 입력 0분)

---

## 📖 시나리오

### 시나리오 1: 대회 시작 전 키 플레이어 확인 (11:50)

**[00:00]** Henry가 스마트폰으로 HandLogger 접속 → Tracker 탭 클릭
**[00:05]** "🎯 Key Players (18)" 화면 표시
**[00:10]** 스크롤하며 18명 위치 확인:
  - T15: 박프로(S3) 250k, Alice(S1) 280k
  - T28: 김프로(S5) 310k, Bob(S4) 190k
  - ... (18명 전체)
**[00:30]** "오늘 키 플레이어 위치 파악 완료!"

**결과**: 30초 만에 18명 현황 확인 (종이 메모 불필요)

---

### 시나리오 2: 테이블에 신규 플레이어 추가 (12:15, T15)

**[00:00]** T15 테이블에 신규 플레이어 "Alice" 합류
**[00:02]** Henry가 Tracker → "T15 박프로" 카드 → [T15 관리] 클릭
**[00:04]** T15 플레이어 9명 목록 표시:
  - S1 (빈 좌석) [+]
  - S2 Charlie 🇯🇵 310k 🗑️
  - S3 박프로⭐ 🇰🇷 520k 🗑️
  - ... (9좌석 전체)
**[00:06]** S1 [+] 클릭 → 입력 팝업:
  - 이름: "Alice"
  - 국적: "US" (드롭다운)
  - 칩: "280000"
  - 키: ☐ (체크 안 함)
**[00:15]** [추가] 클릭 → Type 시트 자동 저장 → "추가 완료" 메시지
**[00:18]** ← Back → Key Player View 복귀

**결과**: 15초 만에 신규 플레이어 등록 완료 → HandLogger Record 모드에서 즉시 사용 가능

---

### 시나리오 3: 키 플레이어 칩 업데이트 (14:31, 휴식 시간)

**[00:00]** 대회 사무국 공지: "박프로 T15 S3, 현재 칩 750k"
**[00:03]** Henry가 Tracker → "T15 박프로" 카드 확인:
  - 박프로 🇰🇷 520k ← 구버전
**[00:05]** "520k" 텍스트 클릭 → 칩 수정 팝업:
  - 현재: 520k
  - 새 칩: [________]
**[00:08]** "750000" 입력 (스마트폰 키보드)
**[00:10]** [확인] 클릭 → Type 시트 업데이트 → "520k → 750k ✓" 표시

**결과**: 10초 만에 칩 업데이트 완료 (종이 메모 → 즉시 디지털 반영)

---

### 시나리오 4: 플레이어 탈락 처리 (18:00, T42)

**[00:00]** T42 테이블에서 "David" 탈락 (칩 0)
**[00:02]** Henry가 Tracker → T42 관리 진입 (키 플레이어 없어서 직접 테이블 검색 필요 - 추후 개선)
**[00:05]** T42 플레이어 목록:
  - S6 David 🇨🇳 150k 🗑️
**[00:07]** David 옆 🗑️ 클릭 → 확인 팝업: "S6 David 삭제하시겠습니까?"
**[00:10]** [확인] → Type 시트에서 행 삭제 → "삭제 완료"

**결과**: 10초 만에 탈락자 제거 (Type 시트 자동 정리)

---

### 시나리오 5: 다음 대회 재사용 (7일 후, 신규 대회 Day 1)

**[00:00]** 새 대회 시작 (다른 장소, 신규 플레이어 구성)
**[00:05]** Henry가 Tracker 접속 → 기존 18명 키 플레이어 표시 (지난 대회 데이터)
**[00:10]** Type 시트에서 수동으로 전체 삭제 (또는 일괄 초기화 기능 추가 예정)
**[00:40]** 신규 키 플레이어 20명 Type 시트에 입력 (엑셀 작업)
**[00:45]** Tracker 새로고침 → 신규 20명 자동 로드 ✓

**결과**: 학습 곡선 0, 대회마다 재사용 가능

---

## ✅ 성공 기준

### 정량적 지표

- [ ] **키 플레이어 칩 업데이트 시간** ≤ 15초 (현재: 종이 메모 → 30분 후 입력)
- [ ] **신규 플레이어 등록 시간** ≤ 20초 (현재: Type 시트 직접 수정 1분)
- [ ] **플레이어 삭제 시간** ≤ 10초
- [ ] **Type 시트 동기화 성공률** ≥ 99%
- [ ] **모바일 터치 반응속도** ≤ 300ms

### 정성적 지표

- [ ] Henry가 "종이 메모 + 휴식 시간 엑셀 작업" 완전 대체
- [ ] Type 시트 수작업 입력 시간 30분 → 0분
- [ ] HandLogger Record 모드에서 "플레이어 없음" 에러 0건

### 사용자 행동 목표

- [ ] 신규 사용자 온보딩 ≤ 5분 (테이블 관리 1회 실습)
- [ ] 3개월 후 재사용율 ≥ 90%

---

## 🎨 최종 UI 모습

### Tracker 메인 (Key Player View)
```
┌─────────────────────────────────────┐
│ Record │ Review │ Tracker │ ⚙️      │
├─────────────────────────────────────┤
│ 🎯 Key Players (18)                 │
├─────────────────────────────────────┤
│ ┌─────────────────────────────────┐ │
│ │ T15  박프로 (S3) 🇰🇷           │ │
│ │ 750k ↑230k                      │ │ ← 칩 클릭 시 수정
│ │ [T15 관리]                      │ │
│ └─────────────────────────────────┘ │
│                                      │
│ ┌─────────────────────────────────┐ │
│ │ T28  김프로 (S5) 🇰🇷           │ │
│ │ 310k →0                         │ │
│ │ [T28 관리]                      │ │
│ └─────────────────────────────────┘ │
│                                      │
│ ... (스크롤 18명)                    │
└─────────────────────────────────────┘
```

### Table View (T15 관리)
```
┌─────────────────────────────────────┐
│ ← Back        T15                   │
├─────────────────────────────────────┤
│ S1 Alice 🇺🇸 280k             🗑️  │ ← 이름/칩 클릭=수정
│ S2 (빈 좌석) [+]                    │
│ S3 박프로⭐ 🇰🇷 750k          🗑️  │
│ S4 Bob 🇬🇧 190k               🗑️  │
│ S5 Charlie 🇯🇵 310k           🗑️  │
│ S6 David 🇨🇳 150k             🗑️  │
│ S7 (빈 좌석) [+]                    │
│ S8 Emily 🇫🇷 420k             🗑️  │
│ S9 Frank 🇩🇪 230k             🗑️  │
└─────────────────────────────────────┘
```

---

## 🚫 제약사항

### 기능적 제약 (v1.0)

- **테이블 이동 미지원**: 키 플레이어 테이블 이동은 Type 시트에서 수동 수정 (v1.1 예정)
- **일괄 작업 미지원**: 칩 일괄 입력, 테이블 초기화 등 (v1.2 예정)
- **필터링 미지원**: 테이블 검색, 칩리더 정렬 (v1.3 예정)
- **키 플레이어 직접 등록 불가**: Type 시트에서 Keyplayer 컬럼 수동 TRUE 설정 필요

### 기술적 제약

- **Type 시트 의존성**: Tracker는 Type 시트만 읽기/쓰기 (HANDS/ACTIONS 시트 미사용)
- **Google Apps Script 실행 시간**: 최대 6분
- **동시 사용자**: ScriptLock으로 직렬화 처리

---

## 🔗 관련 문서

- [PRD_Tracker.md](PRD_Tracker.md) - Phase별 작업 목록
- [LLD_Tracker.md](LLD_Tracker.md) - 기술 설계 인덱스
- [PLAN_HandLogger.md](PLAN_HandLogger.md) - 본체 프로젝트 비전